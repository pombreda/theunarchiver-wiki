#summary One-sentence summary of this page.

= Introduction =

Cyanide is a compression algorithm used by the sitx format. It is block-based, using BWT combined with M1FF2, ternary coding and range coding. It is likely based on the paper 
[http://www.mathematik.uni-bielefeld.de/sfb343/preprints/pr99133.ps.gz "One attempt of a compression algorithm using the BWT"] by Bernhard Balkenhol and Yuri M. Shtarkov.

= Details =

  * Block decode order:
    * Decode ternary sequence
       * Uses range coder: SitxRangeCoder
    * Decode M1FF2
    * BWT-unsort
  * "M1FF2 protocol â€“ sending the symbol to the second position if the head was accessed last time or the time before, unless the symbol accessed was already the second symbol in which case it goes to the top."
  * example block head: (77) (00 01 60 00:size1) (00 00 01 4a:size2) (ff) (range coder stream)

== Ternary coder ==

{{{
glob1:
00 00 00 00 00 00 00 01 00 00 00 02 00 00 00 03
00 00 00 04 00 00 00 05 00 00 00 06 00 00 00 07
00 00 00 08 00 00 00 03 00 00 00 09 00 00 00 0a
00 00 00 03 00 00 00 04 00 00 00 05 00 00 00 0b
00 00 00 0b 00 00 00 08 00 00 00 06 00 00 00 02
00 00 00 05 00 00 00 06 00 00 00 07 00 00 00 08
00 00 00 0c 00 00 00 0c 00 00 00 0d

glob2:
00 00 10 00

glob3:
00 00 00 80

output:
63 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 51 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 04 00 00 00 ff 01 01 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 05 01 00 00 00 01 01
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 05 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 34 01 01 00 eb 00 04 00 00 00 00 00 01 00 00
00 00 00 00 be 00 00 00 07 fd 00 00 07 27 15 00
00 00 00 00 00 00 00 37 0a 38 00 00 00 00 00 00
00 00 00 d3 00 00 00 00 00 00 00 00 d9 00 00 85
0f 01 00 00 00 01 01 00 7f 01 00 08 07 03 01 00
56 65 92 02 00 0b 00 7d 01 00 e4 02 26 0e 21 04
35 02 22 02 0f 02 01 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 77 19 01 00 00 00 00 00 00 00
00 01 01 00 18 01 00 00 00 00 00 00 01 00 00 1d
02 01 1d 01 00 00 00 00 00 00 00 03 01 00 00 00
00 00 00 01 01 02 01 00 00 1e 01 00 00 00 00 00
00 00 00 1f 01 00 00 00 00 00 00 00 00 05 01 00
1a 20 01 00 00 00 00 00 00 00 00 21 01 00 00 00
00 00 00 00 00 22 01 00 00 00 00 00 00 07 01 23
01 00 00 00 00 00 02 01 01 02 0f 01 00 00 00 00
00 00 00 0a 11 01 00 00 00 00 00 01 00 00 1c 85
85 86 87 22 01 00 00 00 00 00 00 00 00 06 88 05
07 88 05 05 86 87 02 88 24 02 07 08 0c 0a 0c 88
1c 09 2e 01 00 00 00 00 00 00 05 89 0e 0b 0c 0b
06 06 06 0e 0e 0a 03 09 0e 09 0e 0e 0e 0c 0f 0c
0d 06 0b 0d 01 0e 0e 0c 0e 0e 0e 0a 8a 0a 00 00
31 01 00 00 00 00 00 00 0b 01 08 08 09 09 0e 0f
0f 0b 0b 0e 0e 02 07 07 0e 07 0f 08 01 0f 09 0d
0d 0d 01 0b 0d 0d 07 05 06 0e 02 00 32 01 00 00
00 00 00 00 00 00 0f 09 09 0e 07 07 07 0f 05 0b
0d 02 06 02 0d 07 0b 0b 0b 8b 0b 10 01 00 0e 0c
0f 0f 0e 0d 0b 0e 06 06 0e 01 05 0e 0e 0e 0e 0d
0d 02 0a 0a 0b 0c 0d 8c 02 00 03 0d 0a 0c 10 0d
0c 0c 02 09 0c 0c 06 0c 35 01 00 00 00 00 00 00
00 00 0f 0c 0c 0c 0e 0b 07 09 02 08 07 0f 0e 0e
0e 0e 0b 0b 0f 0a 0e 0e 0e 10 01 0d 0c 02 0d 0f
02 0d 03 0a 0a 0f 0b 0b 0a 0a 0a 0f 01 0b 0f 01
0f 06 07 05 02 00 0c 0d 0f 0d 01 0d 0e 14 0d 09
0e 02 0e 0c 0e 0f 8d 05 05 05 01 0e 0d 0f 0f 05
0f 0a 12 0b 0d 1b 37 01 00 00 00 00 00 00 00 00
09 09 09 09 0d 0b 06 06 06 0f 0a 01 0f 0a 0f 06
0e 10 13 0d 08 11 09 0e 03 0e 01 0e 01 0f 13 0c
10 0c 07 01 00 08 0f 09 0a 05 0f 09 0b 0a 0d 0d
0a 0a 8d 05 01 0f 0d 01 07 0d 08 08 0f 0e 0e 8e
8c 8d 8e 0e 0b 0a 09 0a 0e 0e 00 0e 0e 00 2f 01
00 00 00 00 00 00 17 07 10 13 0b 06 08 08 0b 0c
09 09 14 14 0e 0f 0f 0c 0c 0c 08 16 16 09 0f 0d
0f 05 0c 0d 0d 08 0d 0d 0d 0b 0f 0c 0f 10 18 10
0d 0f 0f 0c 0c 03 0f 02 01 02 0f 05 05 0f 0f 0e
10 0f 11 0f 0f 0f 01 0d 0c 03 01 0d 04 04 0c 11
0e 0e 0d 11 0f 0e 0e 16 0e 0e 00 01 08 07 02 02
10 09 09 19 11 13 12 0a 11 12 11 03 12 01 11 8f
17 19 18 0b 08 0a 0a 03 16 00 14 13 14 13 0e 01
16 01 0f 3e 01 00 00 00 00 00 00 18 01 17 07 0e
0e 09 0c 0b 07 07 13 10 14 10 02 02 08 10 08 15
08 18 09 0e 0d 13 13 17 11 0f 0a 09 07 09 0e 11
0e 11 0c 0e 0e 07 07 13 18 0d 01 0b 0e 0d 01 03
0f 13 01 0b 0a 13 10 10 18 17 18 11 08 08 07 13
1a 15 0d 0f 0f 0f 00 11 06 05 06 06 01 00 01 06
0b 0b 0b 10 14 90 16 0c 0c 10 0a 0a 09 0d 06 00
00 0d 0d 1a 0c 40 01 00 00 00 00 00 00 00 00 08
12 0b 04 07 0c 0c 07 07 0d 11 0e 0a 16 03 0f 0c
05 0a 12 0a 19 12 1a 0c 0c 0d 0d 0c 13 11 0c 14
0a 0c 0b 09 07 08 12 10 02 02 12 0b 0a 09 0e 0f
0f 01 04 0c 12 10 12 0b 12 12 0b 11 09 11 04 01
0b 0b 03 0b 05 10 11 0d 11 0d 14 0b 0a 06 0f 07
07 07 13 13 00 09 00 0e 02 0e 0f 04 03 10 10 0f
10 0f 17 1a 18 00 0c 09 0a 0a 09 0a 0a 12 14 12
12 19 15 12 12 15 18 13 16 16 12 07 08 03 02 13
13 02 12 01 13 12 13 02 12 13 13 91 16 17 0d 0e
01 0e 0e 03 0d 0d 0d 14 0d 02 0e 0e 14 0f 42 01
00 00 00 00 00 00 00 00 05 09 07 04 0d 0c 05 05
0a 0e 12 0e 0e 12 18 11 07 0c 06 0a 0a 1a 15 09
0a 18 0d 10 0b 10 0f 14 17 0c 09 06 12 10 0e 0d
07 0e 08 02 0e 12 12 0f 12 13 10 12 05 07 12 01
10 12 10 0f 01 10 00 10 01 0e 01 0f 0c 0c 12 0b
10 12 13 11 16 18 0b 00 08 07 14 07 08 19 1b 11
10 17 00 11 11 17 14 06 01 06 02 04 01 05 01 05
13 0e 13 0f 0e 19 16 01 0e 0d 0c 13 0e 0f 07 0e
19 1a 16 01 19 08 09 13 0a 13 03 0a 17 14 14 13
14 17 01 10 15 16 17 0f 14 0e 0f 0f 0f 0e 0d 12
13 19 17 17 16 16 01 0b 16 0b 16 0c 06 14 92 17
18 13 00 01 14 0c 14 14 0e 0e 02 0d 0d 18 0e 0e
44 01 00 00 00 00 00 00 00 00 07 08 10 0d 0d 0e
11 0f 0f 09 0f 09 1a 14 18 0a 09 07 07 16 16 08
08 10 0f 09 0d 0d 18 18 01 0f 10 09 09 11 09 01
12 11 0a 0f 0a 10 10 04 10 01 00 0c 0c 12 0d 0b
12 14 0f 06 06 13 13 0e 0f 0f 0f 12 00 0f 07 0e
0e 0e 00 05 0d 01 0f 0d 12 08 16 08 11 10 10 01
0f 10 03 0b 0b 11 02 12 01 0d 17 14 0a 0a 10 0a
09 00 08 13 13 11 17 1b 16 16 0a 12 04 04 03 04
01 0b 01 12 03 01 0b 0c 0c 16 0d 01 16 18 14 12
13 13 11 11 03 02 0e 0a 0e 0e 12 17 17 0a 09 01
13 14 13 13 05 15 13 90 92 08 00 01 01 09 11 17
02 12 12 12 0e 0d 17 93 0f 37 13 17 18 18 11 11
11 11 11 01 11 17 03 06 00 06 12 06 16 13 13 11
16 3e 48 01 00 00 00 00 00 00 00 00 07 06 0a 04
09 0f 0d 0f 05 0d 09 09 12 11 0b 1d 04 1a 0c 12
01 06 0b 0e 0c 0c 0c 1f 14 01 16 0e 16 0d 09 16
09 1e 07 11 11 12 02 09 14 12 14 12 0b 1a 00 10
05 14 01 06 01 04 0d 02 02 11 0e 0d 01 0e 0d 0e
12 0c 12 14 10 18 1e 16 15 0f 0d 0c 0c 0d 15 13
0b 1e 14 14 14 0c 00 00 13 14 09 14 17 14 09 09
01 11 11 01 03 0f 09 09 15 17 0b 11 14 11 0d 11
0e 02 00 14 14 0e 12 0d 20 0b 16 0c 13 0c 00 0b
0b 15 0c 0c 12 0d 15 11 13 02 1b 13 0d 00 16 02
09 0a 15 11 15 07 10 00 11 10 11 16 01 0a 12 01
12 11 12 1d 15 19 17 1a 0f 0f 01 02 0e 01 00 0c
0f 0e 14 0a 0b 10 07 06 0a 14 11 11 17 11 1e 21
1b 12 12 01 02 12 01 03 00 0e 0e 12 02 02 0f 0f
15 10 10 10 1e 93 14 17 18 11 11 11 01 4a 01 00
00 00 00 00 00 0c 10 10 06 05 04 10 06 1e 1d 19
0c 02 09 14 0c 0a 0a 14 1b 1d 0c 1d 11 10 0a 08
13 07 0f 10 08 03 0f 09 18 10 13 10 14 10 1e 0d
08 13 08 05 05 12 0e 0d 12 13 04 03 0f 0f 09 08
0d 10 11 14 09 08 0e 18 1b 13 0f 09 0f 0b 10 17
17 0a 13 11 02 07 09 08 13 10 15 01 15 12 16 0e
1a 0e 1f 1f 0d 0e 12 0e 0a 12 15 09 09 13 08 17
13 0a 13 00 11 17 1f 17 07 06 06 00 15 0d 1b 18
14 0d 0e 02 02 12 16 16 1d 0f 1c 14 01 0a 18 0a
01 12 00 12 15 18 19 0f 0e 16 0f 07 01 0a 12 0d
0c 1b 11 11 4b 01 00 00 00 00 00 1c 01 01 02 13
0f 13 15 0a 19 1a 15 0f 11 06 16 07 1a 01 08 17
0c 10 1d 15 15 10 11 1a 16 08 06 13 11 14 11 09
00 0f 0f 1a 0b 17 0c 15 0c 16 08 08 08 11 08 08
03 11 16 0f 0f 01 16 10 03 01 0f 13 14 03 14 12
0b 0a 01 09 01 13 0b 13 15 13 1c 11 0e 12 0c 0d
12 13 07 10 05 05 01 16 14 03 0f 10 16 10 10 1a
16 10 01 10 0d 15 0a 14 1f 15 15 14 00 14 0a 0a
0b 13 16 13 0e 0d 0e 12 12 12 15 01 16 02 0e 01
0f 0f 0f 0e 0e 0f 0f 0e 15 0f 1c 0f 20 1a 1a 16
13 00 10 10 0e 1a 10 0f 02 10 16 01 11 11 11 20
19 1b 17 0f 0f 0f 16 16 1e 23 08 07 01 00 06 07
01 11 11 05 12 0f 0b 21 18 1a 0f 0d 0d 00 0c 0a
02 02 0b 1c 94 10 14 13 1b 1b 14 01 0c 1a 03 15
1f 18 09 06 05 0e 1a 16 15 1b 15 00 0c 4d 01 00
00 00 00 00 00 00 0e 03 08 14 20 09 18 09 0e 01
0e 0e 19 13 09 08 08 0e 0d 0e 02 19 0b 0b 1d 0f
13 16 1e 01 12 20 0f 15 0f 1e 09 13 13 06 09 13
13 0c 12 1d 12 12 15 12 00 11 0a 09 14 09 17 09
12 11 14 00 01 10 01 14 16 0b 0b 0b 23 10 0a 09
15 00 01 00 0f 01 00 14 0b 02 14 0b 14 12 17 12
1b 18 0e 0e 16 12 0a 16 11 11 00 00 18 16 13 13
16 14 11 20 19 0a 0f 0a 01 09 0a 0a 01 0a 18 1c
19 1a 0f 0c 0c 0c 1a 0a 13 1a 1a 13 13 09 09 09
08 16 16 09 20 09 1a 0f 01 00 14 01 15 16 02 04
11 1b 16 1b 1b 1b 18 15 0a 0b 0a 0b 14 13 14 17
01 17 16 21 1e 1b 16 16 10 09 19 19 19 95 20 18
17 08 01 17 15 02 15 14 15 06 11 1f 0a 19 0b 19
0c 09 0a 17 94 27 08 16 1f 94 1b 0d 06 0b 11 18
1e 11 11 11 14 51 01 00 00 00 00 00 24 00 00 2f
21 0c 1e 06 1a 05 05 0e 17 21 1a 0f 12 17 20 15
24 04 0e 19 0f 14 10 14 1c 12 12 18 12 12 1d 19
01 00 11 10 0f 16 02 11 0d 16 0c 21 23 0c 18 18
0c 16 15 15 00 04 17 0f 1b 18 07 18 11 11 11 11
0f 0b 14 0d 07 17 07 13 17 09 08 13 02 09 11 02
15 14 01 00 12 12 01 14 13 01 18 01 27 25 1b 10
19 1a 0d 0b 0a 0b 0b 00 18 0b 26 12 11 13 02 19
0d 0d 1b 1a 1a 1a 15 17 01 19 09 09 19 0a 01 19
01 15 14 09 0d 0d 0d 0d 1a 19 1a 12 01 0e 0c 18
0d 0d 05 11 11 19 09 09 08 1b 09 1a 11 25 11 15
19 19 19 10 10 18 01 10 13 25 15 1d 17 1b 0d 0d
0a 0c 0c 01 17 02 17 0e 0e 17 1b 17 1c 0e 11 10
1a 0c 0d 0d 01 26 09 16 0a 13 01 13 16 13 27 27
0f 09 1d 0b 1e 12 0b 0b 18 13 11 1d 11 00 52 01
00 00 00 00 00 00 00 00 14 12 06 0e 0b 07 0a 0b
07 0b 15 1a 15 1a 0b 19 10 20 1c 16 13 12 13 0b
08 1f 18 14 15 15 14 0a 0a 0a 1d 1d 11 0a 0a 0a
09 01 16 0a 15 0b 15 01 0c 15 0d 20 12 12 1b 1a
17 17 13 17 1a 21 03 16 16 18 12 15 14 00 13 13
13 1a 13 0e 09 15 08 19 08 08 14 10 10 0a 02 10
01 10 01 0c 1b 18 11 20 18 17 01 0c 1a 16 09 09
0c 14 01 16 1e 25 13 1b 01 14 0e 16 16 19 13 20
20 1d 15 0a 15 0b 18 15 16 16 16 11 01 1c 1c 17
14 03 14 22 14 1e 21 18 1b 1a 12 11 12 12 1d 13
12 12 11 11 20 12 0c 01 0c 0b 0b 01 04 01 09 13
1e 1b 16 12 18 12 0c 1e 14 22 01 05 27 22 22 09
11 0a 12 18 18 18 13 1d 09 01 0d 08 08 28 0e 06
0e 0e 0f 0b 04 04 1f 00 10 0c 0c 18 18 20 53 01
00 00 00 00 00 00 13 11 03 08 14 09 05 1f 22 19
0f 09 0e 11 1f 24 1d 1d 0b 1a 01 09 10 0f 0a 0a
1f 0f 0f 17 17 0c 03 03 02 11 00 00 11 13 13 14
1c 01 20 0e 0e 22 16 10 01 14 14 19 04 09 18 09
19 13 0d 1b 03 11 1b 12 01 12 01 0d 0d 18 0e 0e
1b 18 16 12 1a 01 15 18 16 01 06 06 01 03 13 11
08 0e 96 18 22 17 01 01 07 22 22 19 01 0f 0e 07
0f 01 05 19 01 10 0e 16 1c 16 24 12 0f 1c 0f 22
96 04 01 20 10 06 11 01 12 1a 21 01 20 06 24 05
04 01 07 09 09 12 12 95 2c 27 08 02 0a 0a 1e 17
22 18 46 92 58 01 00 00 00 00 00 00 29 01 52 2f
10 21 20 18 1a 26 29 1a 1a 02 1c 23 0a 0a 25 2a
17 0b 0b 01 15 25 19 1a 1c 17 0f 21 0c 0c 1c 2c
28 1f 0b 0c 0c 18 18 16 0d 14 12 12 06 01 16 01
00 16 01 00 06 16 01 05 2c 07 2b 2c 01 10 0e 1b
18 01 0d 0d 0c 24 16 16 01 16 09 0a 09 14 14 0a
19 19 19 23 0e 15 15 29 1e 0b 0f 01 11 0f 02 02
13 0f 0f 16 18 10 0f 10 10 2a 18 1d 1e 12 0a 01
27 09 02 1e 0a 1a 08 08 13 19 13 1e 14 14 1a 01
97 1e 12 20 07 07 00 18 13 07 01 07 01 0f 0d 1b
01 0e 0a 0a 08 19 2d 1c 19 0f 29 22 13 08 11 17
07 1b 17 1e 11 00 18 01 17 01 0b 22 10 0e 0c 15
04 08 15 15 00 00 09 09 06 1a 0f 22 0f 18 0f 96
2f 2f 12 06 10 0f 00 0f 2f 0f 0f 0e 0f 0f 0a 14
12 11 00 49 01 00 00 00 00 00 00 00 00 01 0c 04
04 1e 17 08 10 06 10 1a 1f 18 0e 0e 12 14 0f 23
1c 08 1c 14 0a 10 0b 0f 13 14 14 16 01 16 15 07
15 01 20 01 12 12 16 25 21 16 15 0e 12 25 03 0c
15 10 16 02 16 08 12 15 12 00 10 11 11 25 27 10
24 01 11 12 10 0e 0e 0e 01 18 01 16 09 0e 23 16
1d 08 16 1e 01 0c 1c 1b 0c 0b 15 15 15 25 22 0c
0a 1a 14 09 26 09 10 16 00 07 08 0f 1b 17 17 14
01 1b 20 12 1b 0c 12 1d 0b 01 01 17 08 09 13 13
1d 1b 13 13 01 13 13 16 1f 21 10 15 1c 01 08 12
23 20 17 17 21 0a 0a 00 1f 15 1e 0a 23 10 14 10
20 30 28 10 10 01 1e 11 10 20 1d 1e 0f 27 16 1b
0d 00 0b 11 11 19 06 1c 20 19 0d 15 15 0f 13 0c
0f 00 03 1a 12 09 1a 20 24 23 0a 19 14 14 14 1e
19 5b 01 00 00 00 00 00 00 00 00 16 09 08 0f 18
1b 09 09 09 01 05 07 0b 06 06 0d 1c 00 07 0b 05
1c 10 26 17 16 07 1c 08 11 17 1b 17 24 0f 1a 14
14 10 00 12 00 01 16 01 19 05 19 10 19 1d 10 01
10 26 23 18 1b 09 09 09 11 0f 0b 0e 01 24 01 0f
0a 01 14 98 26 0e 13 0c 0c 1b 0d 02 0c 0b 01 14
02 01 1a 01 1a 10 1d 24 16 1f 1f 0c 1f 1d 1c 1c
18 18 24 01 0d 18 09 14 13 1a 13 1b 22 0e 0e 27
0e 1d 0a 19 01 1f 11 1f 0c 0c 19 20 18 12 13 26
22 21 27 11 09 1d 22 1e 1e 1b 21 15 14 20 0a 0a
0e 01 0e 0b 22 12 12 19 04 03 04 04 07 0d 18 1e
13 1f 0d 23 0e 15 0d 0c 0b 24 98 33 14 08 2b 1c
0b 14 05 0c 14 1a 27 25 25 2e 2d 0e 16 16 1a 1e
1e 24 22 28 1d 20 15 1d 25 1d 12 0a 2f 5e 01 00
00 00 00 00 00 00 00 0f 0f 18 0a 0b 25 06 24 1e
0f 06 1b 14 0e 25 18 18 23 20 0a 0f 0e 11 0b 0b
17 0f 24 10 13 0a 01 0a 01 0f 27 09 11 22 0a 02
0a 0a 26 0d 1b 1b 2b 2b 1e 15 25 1a 19 1b 01 0c
01 25 25 0c 0c 2b 23 24 22 20 0e 0e 22 2a 1b 1b
05 05 11 22 22 00 12 12 12 20 08 0a 22 1f 10 01
1f 1f 1f 01 09 01 00 09 0f 1a 10 01 10 1f 02 11
10 19 1a 99 22 24 15 1b 01 1b 2f 1c 13 1b 01 14
07 14 28 1a 19 21 1a 0d 15 1d 1d 0d 08 21 1e 12
0a 11 1c 10 10 22 0b 11 13 06 13 1c 1d 13 13 2c
1a 01 1a 02 1f 15 23 26 0f 18 24 1c 1c 01 18 18
0c 15 01 0d 0d 13 13 26 0e 01 24 12 1e 18 18 09
1e 02 98 12 15 1e 11 01 14 13 01 0f 01 13 35 11
16 09 08 21 22 19 14 0d 07 07 0d 0d 00 14 0e 18
}}}
